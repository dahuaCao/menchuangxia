(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/productDetail/productDetail"],{"1d57":function(t,e,a){"use strict";a.r(e);var i=a("70ee"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},5114:function(t,e,a){},6615:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},"70ee":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("78d5"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(){return Promise.all([a.e("common/vendor"),a.e("components/uParse/src/wxParse")]).then(a.bind(null,"0f43"))},r={components:{uParse:o},data:function(){return{indicatorDots:!1,autoplay:!0,interval:5e3,duration:500,circular:!0,pcitures:[],productInfo:"",productDes:"",productAttr:[],isShowPop:!1,prices:[]}},onLoad:function(t){this.goodsId=t.id,this.productDetail(t.id)},methods:{productDetail:function(t){var e=this;this.$http.request({url:this.$api.GoodsDetail,data:{goodsId:t}}).then(function(t){var a=t.data;e.pcitures=a.goodsPicture,e.productInfo=a.goods,e.productDes=a.detail.goodsDetail,e.productAttr=a.attr})},touch:function(){},hide:function(){this.isShowPop=!1},addCart:function(){var t=this;if(this.isShowPop)if(this.isCheckAllSpec()){var e=this.goodsId,a=this.getParams();this.$http.request({url:this.$api.AddCart,data:{goodsId:e,standard:JSON.stringify(a)}}).then(function(e){"-1"==e.errno?t.$pop.msg(e.errmsg):(t.$pop.msg("购物车已添加成功!"),t.isShowPop=!1)})}else this.$pop.msg("请选择完整规格");else this.isShowPop=!0},preBuy:function(){if(this.isShowPop)if(this.isCheckAllSpec()){var e=this.speId;t.navigateTo({url:"/pages/shopCart/applyOrders/applyOrders?speId="+e})}else this.$pop.msg("请选择完整规格");else this.isShowPop=!0},specSelect:function(t,e){var a=this;this.productAttr.forEach(function(i){i.name==t&&i.list.forEach(function(t){t.name==e?a.$set(t,"select",1):a.$set(t,"select",0)})}),this.isCheckAllSpec()&&this.getPrice(this.goodsId)},isCheckAllSpec:function(){return this.getChecked().every(function(t){return t.checked})},getChecked:function(){var t=[];return this.productAttr.forEach(function(e){var a={};e.list.forEach(function(t){t.select&&(a[e.name]=t.name,a.checked=!0)}),t.push(a)}),t},getPrice:function(t){var e=this,a=this.getParams();this.$http.request({url:this.$api.GoodsParams,data:{goodsId:t,standard:JSON.stringify(a)}}).then(function(t){var a=t.data;e.prices=a.prices,e.speId=a.speId})},getParams:function(){var t={};return this.getChecked().forEach(function(e){Object.assign(t,e)}),delete t.checked,t},getVuale:i.default.debounce(function(t){var e=this,a=t.target.dataset.name,i=t.target.value;this.prices.forEach(function(t){t.name==a&&e.$set(t,"defaultValue",i)})},500)},computed:{caculPrice:function(){var t=0;return this.prices.forEach(function(e){var a=e.defaultValue?e.defaultValue:1;t+=e.value*a,e.attach&&(a>e.attach.control.value?t+=e.attach.attachGt.value:t+=e.attach.attachLte.value)}),t}}};e.default=r}).call(this,a("6e42")["default"])},a7ad:function(t,e,a){"use strict";var i=a("5114"),n=a.n(i);n.a},d1d7:function(t,e,a){"use strict";a.r(e);var i=a("6615"),n=a("1d57");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("a7ad");var r=a("2877"),s=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,null,null);e["default"]=s.exports}},[["bd68","common/runtime","common/vendor"]]]);